<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.gr.user.mapper.UserMapper">

	<resultMap id="BaseResultMap" type="com.gr.common.domain.UserDomain">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Apr 13 
			12:00:02 CST 2017. -->
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="username" property="username" jdbcType="VARCHAR" />
		<result column="password" property="password" jdbcType="VARCHAR" />
		<result column="age" property="age" jdbcType="INTEGER" />
		<result column="sex" property="sex" jdbcType="VARCHAR" />
		<result column="email" property="email" jdbcType="VARCHAR" />
		<result column="dsr" property="dsr" jdbcType="DECIMAL" />
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Apr 13 
			12:00:02 CST 2017. -->
		id, username, password, age, sex, email, dsr
	</sql>

	<select id="queryAll" resultType="com.gr.common.domain.UserDomain">
		select * from user
	</select>

	<select id="queryOne" resultType="map">
		select * from user where
		username = 'admin'
	</select>

	<select id="insert">
		insert into `user`
		VALUES(null,'t1','t1',11,'t1','t1',11)
	</select>




	<insert id="insertAll" parameterType="com.gr.common.domain.UserDomain" useGeneratedKeys="true"
    keyProperty="id">
		 <foreach collection="list" item="item" index="index" separator=";" >  
			insert into user
			<trim prefix="(" suffix=")" suffixOverrides=",">
				<if test="item.id != null">
					id,
				</if>
				<if test="item.username != null">
					username,
				</if>
				<if test="item.password != null">
					password,
				</if>
				<if test="item.age != null">
					age,
				</if>
				<if test="item.sex != null">
					sex,
				</if>
				<if test="item.email != null">
					email,
				</if>
				<if test="item.dsr != null">
					dsr,
				</if>
			</trim>
			<trim prefix="values (" suffix=")" suffixOverrides=",">
				<if test="item.id != null">
					#{item.id,jdbcType=INTEGER},
				</if>
				<if test="item.username != null">
					#{item.username,jdbcType=VARCHAR},
				</if>
				<if test="item.password != null">
					#{item.password,jdbcType=VARCHAR},
				</if>
				<if test="item.age != null">
					#{item.age,jdbcType=INTEGER},
				</if>
				<if test="item.sex != null">
					#{item.sex,jdbcType=VARCHAR},
				</if>
				<if test="item.email != null">
					#{item.email,jdbcType=VARCHAR},
				</if>
				<if test="item.dsr != null">
					#{item.dsr,jdbcType=DECIMAL},
				</if>
			</trim>
		</foreach>
	</insert>

</mapper>